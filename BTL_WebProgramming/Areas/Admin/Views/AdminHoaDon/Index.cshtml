@model System.Data.DataTable
@{
    ViewData["Title"] = "Quản lý Hóa Đơn";
}

<div class="p-6 bg-gray-50 min-h-screen">
    <!-- Tiêu đề -->
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-3xl font-bold text-green-700 flex items-center gap-2">
            📋 Quản lý Hóa đơn
        </h2>

        <a asp-action="Them" class="bg-green-600 text-white px-4 py-2 rounded-lg shadow hover:bg-green-700 transition">
            ➕ Thêm Hóa đơn
        </a>
    </div>

    <!-- Bảng -->
    <div class="overflow-x-auto bg-white shadow-xl rounded-2xl border border-gray-200">
        <table class="min-w-full text-sm text-gray-700">
            <thead class="bg-green-700 text-white text-left">
                <tr>
                    <th class="py-3 px-5 rounded-tl-2xl">Mã HĐ</th>
                    <th class="py-3 px-5">Ngày lập</th>
                    <th class="py-3 px-5">Tổng tiền</th>
                    <th class="py-3 px-5">Người dùng</th>
                    <th class="py-3 px-5 text-center rounded-tr-2xl">Hành động</th>
                </tr>
            </thead>
            <tbody>
                @foreach (System.Data.DataRow row in Model.Rows)
                {
                    <tr class="border-b hover:bg-green-50 transition duration-200">
                        <td class="py-3 px-5 font-semibold">@row["MaHoaDon"]</td>
                        <td class="py-3 px-5">@Convert.ToDateTime(row["NgayLap"]).ToString("dd/MM/yyyy")</td>
                        <td class="py-3 px-5 text-green-700 font-semibold">@string.Format("{0:N0} đ", row["TongTien"])</td>
                        <td class="py-3 px-5">@row["TenNguoiDung"]</td>
                        <td class="py-3 px-5 text-center">
                            <div class="flex justify-center gap-3">
                                <a asp-action="ChiTiet" asp-route-id="@row["MaHoaDon"]"
                                   class="text-blue-600 hover:underline">🔍 Chi tiết</a>
                                <a asp-action="Xoa" asp-route-id="@row["MaHoaDon"]"
                                   onclick="return confirm('Bạn có chắc chắn muốn xóa hóa đơn này không?');"
                                   class="text-red-600 hover:underline font-semibold">🗑️ Xóa</a>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <!-- Tổng số hóa đơn -->
    <div class="mt-4 text-right text-gray-600 italic">
        Tổng số hóa đơn: <span class="font-bold">@Model.Rows.Count</span>
    </div>
</div>

<!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>
